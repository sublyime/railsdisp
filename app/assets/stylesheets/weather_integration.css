/* Weather Integration Styles for ALOHA Dispersion Map */

/* Weather Control Panel Styling */
.weather-control-panel {
  max-width: 300px !important;
  min-width: 250px;
  font-size: 14px;
}

.weather-control-panel h6 {
  color: #0066cc;
  border-bottom: 1px solid #e9ecef;
  padding-bottom: 5px;
  margin-bottom: 10px;
}

.weather-control-panel .form-check-label {
  font-size: 13px;
}

/* Weather Status Indicator */
#weather-status {
  font-size: 12px;
  line-height: 1.3;
  margin-bottom: 0;
}

/* Weather Station Markers */
.weather-station-marker {
  background: transparent !important;
  border: none !important;
}

.weather-marker-content {
  position: relative;
}

.stability-indicator {
  font-family: 'Arial', sans-serif;
  font-weight: bold;
  font-size: 8px !important;
  line-height: 1;
}

/* Scenario Weather Markers */
.scenario-weather-marker {
  background: transparent !important;
  border: none !important;
}

.weather-scenario-content {
  position: relative;
}

.scenario-label {
  font-family: 'Arial', sans-serif;
  font-size: 10px !important;
  font-weight: bold;
  text-align: center;
  min-width: 60px;
}

/* Weather Popup Styling */
.weather-station-popup,
.scenario-weather-popup,
.wind-popup,
.atmospheric-stability-popup {
  min-width: 250px;
}

.weather-station-popup h6,
.scenario-weather-popup h6,
.atmospheric-stability-popup h6 {
  color: #0066cc;
  margin-bottom: 10px;
  border-bottom: 1px solid #e9ecef;
  padding-bottom: 5px;
}

.weather-data-grid .row {
  margin-bottom: 5px;
}

.weather-data-grid .badge {
  min-width: 45px;
  font-size: 11px;
}

/* Current Conditions Section */
.current-conditions h6,
.stability-analysis h6,
.dispersion-params h6 {
  color: #495057;
  font-size: 14px;
  margin-bottom: 8px;
  font-weight: 600;
}

/* Weather Context Menu */
.weather-context-menu {
  min-width: 180px;
}

.weather-context-menu h6 {
  color: #0066cc;
  margin-bottom: 10px;
  text-align: center;
}

.weather-context-menu .btn-group-vertical .btn {
  text-align: left;
  font-size: 12px;
  padding: 5px 10px;
}

/* Wind Vector Styling */
.leaflet-popup-content .wind-popup {
  text-align: center;
}

.wind-popup h6 {
  color: #28a745;
  margin-bottom: 8px;
}

/* Stability Analysis Popup */
.stability-analysis {
  background-color: #f8f9fa;
  padding: 10px;
  border-radius: 5px;
  margin: 10px 0;
}

.stability-analysis .badge {
  font-size: 11px;
  min-width: 40px;
}

/* Atmospheric Stability Colors */
.stability-very-unstable { background-color: #ff4444 !important; }
.stability-moderately-unstable { background-color: #ff8800 !important; }
.stability-slightly-unstable { background-color: #ffcc00 !important; }
.stability-neutral { background-color: #66cc66 !important; }
.stability-slightly-stable { background-color: #3399ff !important; }
.stability-moderately-stable { background-color: #0066cc !important; }

/* Temperature Colors */
.temp-very-cold { color: #0066cc !important; }
.temp-cold { color: #3399ff !important; }
.temp-moderate { color: #66cc66 !important; }
.temp-warm { color: #ffcc00 !important; }
.temp-hot { color: #ff6600 !important; }

/* Wind Speed Colors */
.wind-calm { color: #1f77b4 !important; }
.wind-light { color: #2ca02c !important; }
.wind-moderate { color: #ff7f0e !important; }
.wind-strong { color: #d62728 !important; }
.wind-very-strong { color: #8c564b !important; }

/* Responsive Design for Smaller Screens */
@media (max-width: 768px) {
  .weather-control-panel {
    max-width: 250px !important;
    min-width: 200px;
  }
  
  .weather-control-panel h6 {
    font-size: 14px;
  }
  
  .weather-control-panel .form-check-label {
    font-size: 12px;
  }
  
  .weather-station-popup,
  .scenario-weather-popup {
    min-width: 200px;
  }
  
  .weather-data-grid .badge {
    font-size: 10px;
    min-width: 35px;
  }
}

/* Loading States */
.weather-loading {
  opacity: 0.6;
  pointer-events: none;
}

.weather-loading::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 20px;
  height: 20px;
  margin: -10px 0 0 -10px;
  border: 2px solid #f3f3f3;
  border-top: 2px solid #0066cc;
  border-radius: 50%;
  animation: weather-spin 1s linear infinite;
}

@keyframes weather-spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* Error States */
.weather-error {
  color: #dc3545;
  background-color: #f8d7da;
  border: 1px solid #f5c6cb;
  padding: 8px;
  border-radius: 4px;
  font-size: 12px;
}

/* Success States */
.weather-success {
  color: #155724;
  background-color: #d4edda;
  border: 1px solid #c3e6cb;
  padding: 8px;
  border-radius: 4px;
  font-size: 12px;
}

/* Wind Arrow Animation */
.wind-arrow-animated {
  animation: wind-pulse 2s ease-in-out infinite;
}

@keyframes wind-pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.6; }
}

/* Weather Data Quality Indicators */
.data-quality-excellent { border-left: 4px solid #28a745; }
.data-quality-good { border-left: 4px solid #6f42c1; }
.data-quality-fair { border-left: 4px solid #fd7e14; }
.data-quality-poor { border-left: 4px solid #dc3545; }

/* Dispersion Integration Highlights */
.dispersion-integrated {
  box-shadow: 0 0 10px rgba(255, 107, 53, 0.5);
  border: 2px solid #ff6b35;
}

.dispersion-weather-ready {
  background-color: #e8f5e8;
  border-left: 4px solid #28a745;
}

/* Interactive Elements */
.weather-interactive:hover {
  cursor: pointer;
  transform: scale(1.05);
  transition: transform 0.2s ease;
}

/* Map Layer Controls Enhancement */
.leaflet-control-layers {
  border-radius: 8px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.15);
}

/* Custom Tooltips for Weather Elements */
.weather-tooltip {
  background-color: rgba(0, 0, 0, 0.8);
  color: white;
  padding: 4px 8px;
  border-radius: 4px;
  font-size: 11px;
  pointer-events: none;
  position: absolute;
  z-index: 1000;
}

/* Weather Integration Status Bar */
.weather-integration-status {
  position: fixed;
  bottom: 20px;
  right: 20px;
  background-color: rgba(255, 255, 255, 0.95);
  padding: 8px 12px;
  border-radius: 6px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.15);
  font-size: 12px;
  z-index: 1000;
  max-width: 250px;
}

.weather-integration-status.hidden {
  display: none;
}

/* Print Styles */
@media print {
  .weather-control-panel,
  .weather-context-menu {
    display: none !important;
  }
  
  .weather-station-popup,
  .scenario-weather-popup {
    background: white !important;
    box-shadow: none !important;
  }
}